aqua A

export haveFun

ability Compute:
  job()

service Op("op"):
  noop()

func lift() -> Compute:
  job = ():
    Op.noop()
  <- Compute(job)

ability Function:
  run()

func roundtrip{Function}() -> ?string:
  Function.run()
  <- nil

func disjoint_run{Compute}() -> Function:
  run = func ():
      Compute.job()
  <- Function(run = run)

func haveFun() -> string:
  comp = lift()
  fn = disjoint_run{comp}()
  roundtrip{fn}()
  <- ""