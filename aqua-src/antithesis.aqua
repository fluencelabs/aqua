aqua A

export haveFun

service Dummy("dummy"):
    greeting(s: string) -> string

ability Job:
    run(s: string) -> string

func disrun(getJob: -> Job) -> Job:
   j <- getJob()
   <- j

func haveFun() -> string:
   brokenStream: *string

   job = () -> Job:
     run = (str: string) -> string:
       brokenStream <- Dummy.greeting(str)
       <- "run"

     <- Job(run = run)

   subnetJob <- disrun(job)
   subnetJob.run("string for dummy")
   <- brokenStream!