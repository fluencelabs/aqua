service TestService("test-service"):
    get_records(key: string) -> []string

func append_records(peer: string, srum: *[]string):
  srum <- TestService.get_records(peer)

func retrieve_records(peer: string) -> [][]string:
    records: *[]string
    append_records(peer, records)
    <- records

func useStream(stream: *string) -> *string:
    stream <<- "valueUseStream"
    <- stream

func returnStream() -> *string:
    r <- useStream(*[])
    r <<- "valueReturnStream"
    <- r

func lng280Bug() -> []string:
    stream <- returnStream()
    stream <<- "valueTop"
    <- stream

func lng280BugWithFor() -> []string:
    results: *string
    arr = [1,2,3]

    for a <- arr:
      stream <- returnStream()
      results <<- arr[0]
      results <<- arr[1]

    <- results

