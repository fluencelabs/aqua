data ServiceInstance:
	peer_id: string
	service_id: string


data App:
	history: ServiceInstance
	user_list: ServiceInstance

service UserList:
	leave: string -> u32

func in(xap: App) -> u32:
    UserList xap.user_list.service_id
    res <- UserList.leave("line in in()")
    <- res


func bug(app: App, smth: bool, callback: bool -> ()):
	UserList app.user_list.service_id
	UserList.leave("line in bug()")
	x <- in(app)
	callback(smth)
