data Inside:
    foo: u32
    bar: bool

data Wrapping:
    inside: Inside
    value: string

data Enclosing:
    wrap: Wrapping
    arr: []Wrapping
    flag: bool

func call(enc: Enclosing, oni32: u32 -> (), onString: string -> (), onBool: bool -> (), onInside: Inside -> Inside) -> Inside:
    onBool(enc.flag)
    onBool(enc.wrap)
    if enc.flag == enc.wrap:
        oni32(22)
    <- enc.wrap.inside

